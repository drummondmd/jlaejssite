<%- include ('partials/header.ejs') %>
<%- include ('partials/admin-header.ejs') %>



        <div class="col-10">
            <div class="row container" id="div-buttom">
                <div class="col">
                    <button type="button" id="atuaisBtn" class="btn btn-outline-secondary col-12">Projetos
                        Atuais</button>
                </div>
                <div class="col">
                    <button type="button" id="novoBtn" class="btn btn-outline-secondary  col-12">Novo Projeto</button>
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div class="col-md-10 mt-3">
                    <div id="novo-projeto">
                        <div class="row container" id="busca">
                            <div class="form-group">
                                <label for="orc-search">Selecionar orçamento:</label>
                                <input class="form-control dl-search" type="text" list="orc-search-all">
                                <datalist id="orc-search-all">
                                    <option value="item1"></option>
                                    <option value="item2"></option>
                                    <option value="item3"></option>
                                    <option value="item4"></option>
                                </datalist>
                            </div>
                            <div class="form-group">
                                <label for="client-search">Selecionar cliente:</label>
                                <input class="form-control dl-search" type="text" list="client-search">
                                <datalist id="client-search">
                                    <option value="item01"></option>
                                    <option value="item02"></option>
                                    <option value="item03"></option>
                                </datalist>
                            </div>
                            <div class=" mt-2 col text-center"><button class="btn novo-btn" type="button">Novo Cliente</button>
                            </div>
                            <div class="mt-2 col text-center"><button class="btn novo-btn" type="button">Novo Orçamento</button>
                            </div>
                        </div>
                        <div class="my-3">
                            <hr>
                        </div>
                        <div id="detalhe-cliente" class="container" style="display: none;">
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label class="form-label" for="nome_cliente">Nome do cliente:</label>
                                    <input class="form-control" name="nome_cliente" type="text" id="nome_cliente"
                                        placeholder="Nome do Cliente">
                                </div>
                                <div class="form-group col-md-5">
                                    <label class="form-label" for="sobrenome_cliente">Sobrenome</label>
                                    <input class="form-control" name="sobrenome_cliente" type="text" id="nome_cliente"
                                        placeholder="Sobrenome">
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label class="form-label" for="dn">Data de Nascimento:</label>
                                    <input class="form-control" name="dn" id="dn" type="date" class="">
                                </div>

                                <div class="form-group col-md-3">
                                    <label class="form-label" for="sexo">Sexo:</label>
                                    <select name="sexo" id="sexo" class="form-select">
                                        <option value="Selecione" disabled selected>Selecione</option>
                                        <option value="Masculino">Masculino</option>
                                        <option value="Feminino">Feminino</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-md-4">
                                    <label class="form-label" for="email">Email:</label>
                                    <input type="email" class="form-control" name="email" id="email"
                                        placeholder="email">
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label" for="tel">Telefone:</label>
                                    <input type="tel" class="form-control" name="tel" id="tel"
                                        placeholder="Numero de Telefone">
                                </div>
                            </div>
                        </div>

                        <div class="container" id="detalhe-projeto" style="display: none;">
                            <div class="form-group col-md-4"></div>
                            <label class="form-label" for="nome_projeto">Nome do Projeto</label>
                            <input type="text" name="nome_projeto" id="nome_projeto" placeholder="Nome do projeto"
                                class="form-control mb-3">

                            <div class="form-group col-md-4">
                                <label class="form-label" for="cidade">Cidade</label>
                                <input type="text" class="form-control" name="cidade" id="" placeholder="Cidade">
                            </div>
                            <div class="form-group col-md-8">
                                <label class="form-label" for="endereco">Endereço:</label>
                                <input type="text" class="form-control" name="endereco" id="endereco"
                                    placeholder="Endereço">
                            </div>
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="tipo">Tipo de Estabelecimento</label>
                                    <select id="tipo" class="form-select mb-3">
                                        <option>...</option>
                                        <option value="residencial">Residencial</option>
                                        <option value="comercial">Comercial</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="padrao">Padrão de construção:</label>
                                    <select id="padrao" class="form-select mb-3">
                                        <option value="baixo">Baixo padrão</option>
                                        <option value="normal" selected>Normal</option>
                                        <option value="alto">Alto padrão</option>
                                    </select>
                                </div>

                            </div>
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="valor-orcamento">Valor do Orçamento</label>
                                    <input type="number" class="form-control">
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="valor-orcamento">Valor estimado da Obra:</label>
                                    <input type="number" class="form-control">
                                </div>
                            </div>
                        </div>

                        <div class="container" id="etapas">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="etapas" class="form-label">Etapas:</label>
                                        <input type="text" class="form-control" id="etapas">
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <button type="button">Acrescentar:</button>
                                </div>
                                <div class="col-md-2">
                                    <button type="reset">Refazer</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 form-group">
                                    <label class="form-label" for="">Etapa</label>
                                    <input class="form-control" type="text" name="" id="">
                                </div>
                                <div class="col-md-2">
                                    <label for="" class="form-label">Prazo</label>
                                    <input type="number" class="form-control">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 form-group">
                                    <label class="form-label" for="">Etapa</label>
                                    <input class="form-control" type="text" name="" id="">
                                </div>
                                <div class="col-md-2">
                                    <label for="" class="form-label">Prazo</label>
                                    <input type="number" class="form-control">
                                </div>
                            </div>

                        </div>
                        <div id="hidden">
                            <input type="date">
                        </div>

                    </div>

                </div>
            </div>






            <div id="projetos-atuais" style="display: none;">
                <div class="row container">
                    <%if(locals.projetos){%>
                        <%projetos.forEach(element=>{%>
                            <div class="col-3 my-2">
                                <a href="/admin/edit?id=<%=element.id%>">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="card-title">
                                                <%= element.nome %>
                                            </div>
                                            <div class="card-subtitle">
                                                <%= element.endereco %>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <% }) %>
                                <%}else{%>
                                    <p>
                                        Algum erro em renderizar projetos atuais.
                                    </p>
                                    <%}%>

                </div>

            </div>



        </div>



        </div>

        <!-- Fim da div nova, abaixo teste e descarte-->



        <!--Fechamento de div row do admin header-->
        </div>

        <%- include ('partials/footer.ejs') %>

            <script>

                $("#novoBtn").on("click", function () {
                    $("#novo-projeto").show();
                    $("#projetos-atuais").hide();
                })

                $("#atuaisBtn").on("click", function () {
                    $("#novo-projeto").hide();
                    $("#projetos-atuais").show();
                })

                $(".dl-search").change(function(){
                    let val = this.value  
                    console.log(val)
                    //validar dados posteriormente
                    //preencher dados automaticamente
                    $("#detalhe-cliente").show()
                    $("#detalhe-projeto").show()
                    
                })
                
                $(".novo-btn").on("click",function(){
                    let val =this.text
                    console.log(val)
                })
                




            </script>